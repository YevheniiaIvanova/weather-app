(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{12:function(e,t,a){e.exports={"search-bar":"search-bar_search-bar__1Ong8",input:"search-bar_input__2tC90",button:"search-bar_button__1Ce95"}},16:function(e,t,a){e.exports={footer:"footer_footer__1wu6O",link:"footer_link__1ikA-"}},17:function(e,t,a){e.exports={header:"header_header__2SsYH",link:"header_link__1r-zI",title:"header_title__3AfdZ"}},40:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);a(40);var n=a(0),c=a.n(n),r=a(31),s=a(39),i=a(3),o=a(7),l=a(32),j=function(){o.b.add(l.a)},d=a(1),u=function(){return Object(d.jsx)("div",{children:"Error"})},h=a(8),b=a(11),f=a(16),p=a.n(f),m=function(){return Object(d.jsx)("footer",{className:p.a.footer,children:Object(d.jsxs)("span",{children:["Powered by",Object(d.jsx)("a",{className:p.a.link,href:"/",target:"_blank",rel:"noopener noreferrer",children:Object(d.jsx)(b.a,{icon:["fab","github"]})}),"\xa9",Object(d.jsx)("span",{children:(new Date).getFullYear()})]})})},O=a(17),x=a.n(O),_=function(){return Object(d.jsxs)("header",{className:x.a.header,children:[Object(d.jsx)("h1",{className:"title",children:"Weather App"}),Object(d.jsx)("a",{className:x.a.link,href:"/",target:"_blank",rel:"noopener noreferrer",children:Object(d.jsx)(b.a,{icon:["fab","github"]})})]})},v=a(12),w=a.n(v),g=function(e){var t=e.setLocation,a=Object(n.useState)(""),c=Object(h.a)(a,2),r=c[0],s=c[1];return Object(d.jsxs)("div",{className:w.a["search-bar"],children:[Object(d.jsx)("input",{type:"search",name:"",id:"",className:w.a.input,onChange:function(e){s(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&t(r)},value:r}),Object(d.jsx)("button",{type:"button",className:w.a.button,onClick:function(){r&&t(r)},children:"Search"})]})},k=a(18),N=a.n(k),y=a(33),C=a(34),S=a(35),D=a(36),E=a.n(D),L="a2eff27db9b787996de2f1e9bfa31a3f",W=new(function(){function e(){Object(C.a)(this,e),this.baseUrl="http://api.openweathermap.org/data/2.5/weather"}return Object(S.a)(e,[{key:"getWeather",value:function(){var e=Object(y.a)(N.a.mark((function e(){var t,a,n=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"Dnipro",e.next=3,E.a.get("".concat(this.baseUrl,"?q=").concat(t,"&APPID=").concat(L,"&units=metric"));case 3:return a=e.sent,this.validateRequest(a),e.abrupt("return",{location:a.data.name,feelsLike:a.data.main.feels_like,temp:a.data.main.temp,temp_min:a.data.main.temp_min,temp_max:a.data.main.temp_max,description:a.data.weather[0].description,icon:a.data.weather[0].icon,wind:a.data.wind.speed,country:a.data.sys.country});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateRequest",value:function(e){if(e.status<200&&e.status>299)throw new Error("Could not get data, status ".concat(e.status))}}]),e}()),A=function(){var e=new Date,t=e.toLocaleString("en",{month:"long"});return"".concat(e.getDate()," ").concat(t)},P=function(e){var t=e.icon;return Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("img",{"data-testid":"weather-image",src:"http://openweathermap.org/img/wn/".concat(t,"@2x.png"),alt:"weather icon"})})},q=a(9),I=a.n(q),M=function(e){var t=e.cityName,a=Object(n.useState)(null),c=Object(h.a)(a,2),r=c[0],s=c[1];Object(n.useEffect)((function(){W.getWeather("Dnipro").then((function(e){s(e)}))}),[]),Object(n.useEffect)((function(){t&&W.getWeather(t).then((function(e){s(e)}))}),[t]);var i=Object(n.useCallback)((function(){return A()}),[]);if(null===r)return null;var o=r.location,l=r.description,j=r.wind,u=r.feelsLike,b=r.temp,f=r.temp_max,p=r.temp_min,m=r.country,O=r.icon;return Object(d.jsxs)("div",{className:I.a["weather-card"],children:[Object(d.jsxs)("h2",{className:I.a.location,children:[o," ",m]}),Object(d.jsx)("h3",{className:I.a.date,children:i}),Object(d.jsxs)("div",{className:I.a.temperature,children:[b," \u2103"]}),Object(d.jsx)(P,{icon:O}),Object(d.jsx)("div",{className:"description",children:l}),Object(d.jsxs)("div",{className:"",children:["Max: ",f," \u2103 / Min: ",p," \u2103"]}),Object(d.jsxs)("div",{children:["Feels like ",u," \u2103"]}),Object(d.jsxs)("div",{className:"",children:["Wind: ",j," m/s"]})]})},F=function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],c=t[1];return Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)(_,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(g,{setLocation:c}),Object(d.jsx)(M,{cityName:a})]}),Object(d.jsx)(m,{})]})};j(),Object(r.render)(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(s.a,{children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/weather",children:Object(d.jsx)(F,{})}),Object(d.jsx)(i.a,{exact:!0,path:"/",children:Object(d.jsx)(F,{})}),Object(d.jsx)(i.a,{path:"*",children:Object(d.jsx)(u,{})})]})})}),document.getElementById("root"))},9:function(e,t,a){e.exports={"weather-card":"weather-card_weather-card__jC5Cg",location:"weather-card_location__3SvXS",date:"weather-card_date__3oCmg"}}},[[71,1,2]]]);
//# sourceMappingURL=main.f842b9db.chunk.js.map